# --- SYSTEM & VM COMPATIBILITY ---
monitor=,preferred,auto,1
env = WLR_NO_HARDWARE_CURSORS,1
env = WLR_RENDERER_ALLOW_SOFTWARE,1
env = XCURSOR_THEME,breeze_cursors
env = XCURSOR_SIZE,24

# --- AUTOSTART (Termasuk Sound) ---
exec-once = hyprpaper &
exec-once = waybar -c ~/.config/waybar/config.jsonc -s ~/.config/waybar/style.css
exec-once = dunst &
exec-once = hypridle &
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = hyprctl setcursor breeze_cursors 24
# Sound Startup
exec-once = paplay ~/Music/startup.wav

# --- INPUT ---
input {
    kb_layout = us
    follow_mouse = 1
}

# --- VISUAL (QUANTUM THEME) ---
general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    # Cyan & Blue Neon Gradient
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)
    layout = dwindle
}

decoration {
    rounding = 10
    
    blur {
        enabled = true
        size = 6
        passes = 3
        new_optimizations = true
        ignore_opacity = true
        xray = false
        
        # EFEK KACA MAHAL (Vibrancy & Noise)
        noise = 0.03        # Sedikit noise biar seperti kaca asli
        contrast = 1.0
        brightness = 1.0
        vibrancy = 0.2      # Meningkatkan saturasi warna wallpaper di balik bar
        vibrancy_darkness = 0.0
    }
    
    # Shadow
    shadow {
        enabled = true
        range = 15
        render_power = 3
        color = rgba(00000088) # Shadow lebih tebal agar bar 'mengambang'
    }
}

layerrule = blur, waybar
layerrule = ignorezero, waybar

# --- KEYBINDINGS ---
$mainMod = SUPER
bind = $mainMod, Q, exec, kitty
bind = $mainMod, C, killactive, 
bind = $mainMod, M, exit, 
bind = $mainMod, E, exec, thunar
bind = $mainMod, R, exec, wofi --show drun
bind = $mainMod, L, exec, hyprlock

# Developer Apps Shortcuts
bind = $mainMod SHIFT, C, exec, code --disable-gpu --no-sandbox
bind = $mainMod SHIFT, D, exec, dbeaver
bind = $mainMod, B, exec, firefox-developer-edition

# Window Management
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5

# Move Window (Syntax Fixed)
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

# Mouse Move/Resize
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
